<!--
~ Copyright (c) 2016 VMware, Inc. All Rights Reserved.
~ This software is released under MIT license.
~ The full license information can be found in LICENSE in the root directory of this project.
-->

<!-- FIXME: we will need a class to say whether or not there's a close X so we can slide actions and title to the right...-->

<clr-modal 
    [clrModalOpen]="_open"
    [clrModalSize]="size"
    [clrModalClosable]="closable"
    [clrModalStaticBackdrop]="true"
    (clrModalOpenChange)="cancel()">

    <h3 class="modal-title">
        <template [ngTemplateOutlet]="navService.currentPageTitle"></template>

        <div *ngIf="navService.wizardHasHeaderActions">
            <ng-content select="clr-wizard-header-actions"></ng-content>
        </div>
        <div *ngIf="navService.currentPageHasHeaderActions">
            <template [ngTemplateOutlet]="navService.currentPage.headerActions"></template>
        </div>
<!--
    public get wizardHasHeaderActions(): boolean {
        return this.wizardHeaderActions.toArray().length > 0;
    }

    public get currentPageHasHeaderActions(): boolean {
        return this.currentPage.hasHeaderActions;
    }

    public get displayHeaderActionsWrapper(): boolean {
        return this.currentPageHasHeaderActions || this.wizardHasHeaderActions;
    }
-->

    </h3>

    <div class="modal-body clr-wizard-content">
        <!-- FIXME: do we need this much nesting??? -->
        <div class="content-container clr-wizard-container">
            <main clr-wizard-pages-wrapper class="content-area clr-wizard-content">
                <ng-content></ng-content>
            </main>

            <nav class="nav-panel sidenav clr-wizard-stepnav xs-hidden">
                <h3 class="clr-wizard-title"><ng-content select="clr-wizard-title"></ng-content></h3>
                <clr-wizard-stepnav></clr-wizard-stepnav>
            </nav>
        </div>
    </div>
    <div class="modal-footer clr-wizard-footer">
        <!-- TODO: FIGURE OUT HOW TO NOT HAVE THE WRAPPER AROUND BUTTONS... V2/CLEANUP -->
        <div *ngIf="!navService.currentPage.hasButtons">
            <ng-content select="clr-wizard-button"></ng-content>
        </div>
        <div *ngIf="navService.currentPage.hasButtons">
            <template [ngTemplateOutlet]="navService.currentPage.buttons"></template>
        </div>
    </div>
</clr-modal>